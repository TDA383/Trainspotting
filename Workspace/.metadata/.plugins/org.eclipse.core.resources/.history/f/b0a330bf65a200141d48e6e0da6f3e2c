import java.util.concurrent.*;

import TSim.*;

public class TrainSemaphore extends Semaphore {

	private final Train train;

	public TrainSemaphore(Train train, int permits, ) {
		super(permits);
		this.train = train;
	}
	
	@Override
	public void acquire() throws InterruptedException {
		train.changeSpeed(0);
		super.acquire();
	}
	
	@Override
	public void release(int speed) {
		super.release();
		train.changeSpeed(speed);
	}
}
